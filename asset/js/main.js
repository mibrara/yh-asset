function hoverVideo(t){t=jQuery(".wpst-trailer")[t].play();void 0!==t&&t.then(t=>{}).catch(t=>{})}function hideVideo(t){jQuery(".wpst-trailer")[t].load()}function wpst_open_login_dialog(t){jQuery("#wpst-user-modal .modal-dialog").removeClass("registration-complete");var e=jQuery("#wpst-user-modal .modal-dialog");switch(e.attr("data-active-tab",""),t){case"#wpst-register":e.attr("data-active-tab","#wpst-register");break;case"#wpst-login":default:e.attr("data-active-tab","#wpst-login")}jQuery("#wpst-user-modal").modal("show")}function wpst_close_login_dialog(){jQuery("#wpst-user-modal").modal("hide")}if(jQuery(window).on("load",function(){jQuery(".prev-photo i").show(),jQuery(".next-photo i").show()}),jQuery(document).ready(function(){function e(){i++,jQuery(".loading-photos span").text(i+"/"+o),i===o&&(waterfall(".wp-block-gallery"),setTimeout(function(){jQuery(".wp-block-gallery").css("opacity",1),jQuery(".loading-photos").hide()},1e3))}var t,o,i;function e(){i++,jQuery(".loading-photos span").text(i+"/"+o),i===o&&(waterfall(".gallery"),setTimeout(function(){jQuery(".gallery").css("opacity",1),jQuery(".loading-photos").hide()},1e3))}jQuery(".wp-block-gallery a").attr("data-fancybox","gallery"),0<jQuery(".wp-block-gallery").length&&(o=(t=jQuery(".wp-block-gallery img")).length,i=0,[].forEach.call(t,function(t){t.complete?e():t.addEventListener("load",e,!1)}),jQuery(window).resize(function(){waterfall(".wp-block-gallery")})),jQuery(".gallery a").attr("data-fancybox","gallery"),0<jQuery(".gallery").length&&(o=(t=jQuery(".gallery img")).length,i=0,[].forEach.call(t,function(t){t.complete?e():t.addEventListener("load",e,!1)}),jQuery(window).resize(function(){waterfall(".gallery")}),jQuery(window).load(function(){waterfall(".wp-block-gallery")})),0<jQuery("#wpst-video").length&&!wpst_ajax_var.ctpl_installed&&videojs("wpst-video",{controlBar:{children:["playToggle","progressControl","durationDisplay","volumePanel","qualitySelector","fullscreenToggle"]}});for(var s,a=document.getElementsByTagName("img"),n=0;n<a.length;n++){var r=a[n].getAttribute("data-src");r&&(a[n].setAttribute("src",r),a[n].classList.add("display-img"))}function l(){var t=options.thumbnails_ratio.split("/")[0];return options.thumbnails_ratio.split("/")[1]/t}function d(){var t=jQuery(jQuery(".post-thumbnail")[0]).width();jQuery(".post-thumbnail img").height(t*l()),jQuery(".post-thumbnail .wpst-trailer").height(t*l()),jQuery(".photos-thumb").height(t),jQuery(".photos .post-thumbnail .photo-bg").height(t),jQuery(".post-thumbnail .no-thumb").height(t*l())}function h(){var t=jQuery(jQuery(".site-footer .post-thumbnail")[0]).width();jQuery(".site-footer .post-thumbnail img").height(t*l()),jQuery(".site-footer .post-thumbnail .wpst-trailer").height(t*l()),jQuery(".site-footer .no-thumb").height(t*l())}jQuery("body").on("click",".happy-inside-player .close",function(t){jQuery(this).parent(".happy-inside-player").hide()}),0<jQuery("body.single-post").length&&(s=jQuery("article.post").attr("id").replace("post-",""),jQuery.ajax({type:"post",url:wpst_ajax_var.url,dataType:"json",data:{action:"post-views",nonce:wpst_ajax_var.nonce,post_id:s}}).done(function(t){}).fail(function(t){console.error(t)}).always(function(t){jQuery.ajax({type:"post",url:wpst_ajax_var.url,dataType:"json",data:{action:"get-post-data",nonce:wpst_ajax_var.nonce,post_id:s}}).done(function(t){t.views&&jQuery(".video-views span").text(t.views),t.likes&&jQuery(".likes_count").text(t.likes)}).fail(function(t){console.error(t)}).always(function(){})})),jQuery(".post-like a").on("click",function(t){t.preventDefault();var e=jQuery(this),t=e.data("post_id"),e=e.data("post_like");return jQuery.ajax({type:"post",url:wpst_ajax_var.url,dataType:"json",data:"action=post-like&nonce="+wpst_ajax_var.nonce+"&post_like="+e+"&post_id="+t,success:function(t,e,o){!0!==t.alreadyrate&&(jQuery(".rating-result .percentage").text(Math.floor(t.percentage)+"%"),jQuery(".rating-result .percentage").show(),jQuery(".likes .likes_count").text(t.likes),jQuery(".post-like").html(t.button))}}),!1}),d(),jQuery(window).resize(function(){d()}),h(),jQuery(window).resize(function(){h()}),jQuery(".thumb-block a").hover(function(t){jQuery(this).attr("data-title",jQuery(this).attr("title")),jQuery(this).removeAttr("title")},function(t){jQuery(this).attr("title",jQuery(this).attr("data-title"))}),jQuery(".video-with-trailer").each(function(t,e){jQuery(this).on("mouseover",function(){hoverVideo(t)}),jQuery(this).on("mouseout",function(){hideVideo(t)})});var c,u=null,p=!1;jQuery("body").on("mouseenter",".thumbs-rotation",function(t){var e,o,i,s=jQuery(this);p=!1,null!=s.data("thumbs")&&(e=s.data("thumbs").split(","),o=e.length,i=1,u=null,clearTimeout(u),(u=function(){0==p&&(s.find("img").attr("srcset",e[i-1]),i<=o&&(setTimeout(u,700),i==o?i=1:i++))})())}).on("mouseleave",".thumbs-rotation",function(t){p=!0,u=null;for(var e=setTimeout(";"),o=0;o<e;o++)clearTimeout(o);var i=jQuery(this).find("img"),s=i.attr("src");i.attr("srcset",s)}),jQuery(".video-description .more").readmore({speed:75,collapsedHeight:50,moreLink:'<a class="morelink" href="#">Read More <i class="fa fa-chevron-down"></i></a>',lessLink:'<a class="morelink" href="#">Read Less <i class="fa fa-chevron-up"></i></a>'}),jQuery("#back-to-top").length&&((c=function(){100<jQuery(window).scrollTop()?jQuery("#back-to-top").addClass("show"):jQuery("#back-to-top").removeClass("show")})(),jQuery(window).on("scroll",function(){c()}),jQuery("#back-to-top").on("click",function(t){t.preventDefault(),jQuery("html,body").animate({scrollTop:0},700)}))}),jQuery(function(o){"use strict";o('[href="#wpst-login"], [href="#wpst-register"]').click(function(t){t.preventDefault(),wpst_open_login_dialog(o(this).attr("href"))}),o('.modal-footer a, a[href="#wpst-reset-password"]').click(function(t){t.preventDefault(),o("#wpst-user-modal .modal-dialog").attr("data-active-tab",o(this).attr("href"))}),o("#wpst_login_form").on("submit",function(t){t.preventDefault();var e=o(this).find("button");e.button("loading"),o.post(wpst_ajax_var.url,o("#wpst_login_form").serialize(),function(t){t=o.parseJSON(t);o(".wpst-login .wpst-errors").html(t.message),0==t.error&&(o("#wpst-user-modal .modal-dialog").addClass("loading"),window.location.reload(!0),e.hide()),e.button("reset")})}),o("#wpst_registration_form").on("submit",function(t){t.preventDefault();var e=o(this).find("button");e.button("loading"),o.post(wpst_ajax_var.url,o("#wpst_registration_form").serialize(),function(t){t=o.parseJSON(t);o(".wpst-register .wpst-errors").html(t.message),0==t.error&&(o("#wpst-user-modal .modal-dialog").addClass("registration-complete"),e.hide()),e.button("reset")})}),o("#wpst_reset_password_form").on("submit",function(t){t.preventDefault();var e=o(this).find("button");e.button("loading"),o.post(wpst_ajax_var.url,o("#wpst_reset_password_form").serialize(),function(t){t=o.parseJSON(t);o(".wpst-reset-password .wpst-errors").html(t.message),e.button("reset")})}),"#login"==window.location.hash&&wpst_open_login_dialog("#wpst-login")}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(d){"use strict";var s="readmore",a={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,blockProcessed:function(){},beforeToggle:function(){},afterToggle:function(){}},n={},r=0;function l(t){var e=t.clone().css({height:"auto",width:t.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(t),o=e.outerHeight(),i=parseInt(e.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),s=t.data("defaultHeight");e.remove();s=i||t.data("collapsedHeight")||s;t.data({expandedHeight:o,maxHeight:i,collapsedHeight:s}).css({maxHeight:"none"})}var i,h,c,u,p=(i=function(){d("[data-readmore]").each(function(){var t=d(this),e="true"===t.attr("aria-expanded");l(t),t.css({height:t.data(e?"expandedHeight":"collapsedHeight")})})},h=100,function(){var t=this,e=arguments,o=c&&!u;clearTimeout(u),u=setTimeout(function(){u=null,c||i.apply(t,e)},h),o&&i.apply(t,e)});function f(t,e){var o,i;this.element=t,this.options=d.extend({},a,e),o=this.options,n[o.selector]||(i=" ",o.embedCSS&&""!==o.blockCSS&&(i+=o.selector+" + [data-readmore-toggle], "+o.selector+"[data-readmore]{"+o.blockCSS+"}"),i+=o.selector+"[data-readmore]{transition: height "+o.speed+"ms;overflow: hidden;}",t=document,e=i,(i=t.createElement("style")).type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),t.getElementsByTagName("head")[0].appendChild(i),n[o.selector]=!0),this._defaults=a,this._name=s,this.init(),window.addEventListener?(window.addEventListener("load",p),window.addEventListener("resize",p)):(window.attachEvent("load",p),window.attachEvent("resize",p))}f.prototype={init:function(){var e=d(this.element);e.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),l(e);var t=e.data("collapsedHeight"),o=e.data("heightMargin");if(e.outerHeight(!0)<=t+o)return this.options.blockProcessed&&"function"==typeof this.options.blockProcessed&&this.options.blockProcessed(e,!1),!0;var i,s,a,s=e.attr("id")||(a=++r,String(null==s?"rmjs-":s)+a),a=this.options.startOpen?this.options.lessLink:this.options.moreLink;e.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:s}),e.after(d(a).on("click",(i=this,function(t){i.toggle(this,e[0],t)})).attr({"data-readmore-toggle":s,"aria-controls":s})),this.options.startOpen||e.css({height:t}),this.options.blockProcessed&&"function"==typeof this.options.blockProcessed&&this.options.blockProcessed(e,!0)},toggle:function(t,e,o){o&&o.preventDefault(),t=t||d('[aria-controls="'+this.element.id+'"]')[0],e=e||this.element;var i,s,a=d(e),n="",r="",l=!1,o=a.data("collapsedHeight");a.height()<=o?(n=a.data("expandedHeight")+"px",r="lessLink",l=!0):(n=o,r="moreLink"),this.options.beforeToggle&&"function"==typeof this.options.beforeToggle&&this.options.beforeToggle(t,a,!l),a.css({height:n}),a.on("transitionend",(i=this,function(){i.options.afterToggle&&"function"==typeof i.options.afterToggle&&i.options.afterToggle(t,a,l),d(this).attr({"aria-expanded":l}).off("transitionend")})),d(t).replaceWith(d(this.options[r]).on("click",(s=this,function(t){s.toggle(this,e,t)})).attr({"data-readmore-toggle":a.attr("id"),"aria-controls":a.attr("id")}))},destroy:function(){d(this.element).each(function(){var t=d(this);t.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),t.removeData()})}},d.fn.readmore=function(e){var o=arguments,i=this.selector;return"object"==typeof(e=e||{})?this.each(function(){var t;d.data(this,"plugin_"+s)&&(t=d.data(this,"plugin_"+s)).destroy.apply(t),e.selector=i,d.data(this,"plugin_"+s,new f(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var t=d.data(this,"plugin_"+s);t instanceof f&&"function"==typeof t[e]&&t[e].apply(t,Array.prototype.slice.call(o,1))}):void 0}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(a){"use strict";var s=function(t,e){this.$element=a(t),this.options=a.extend({},s.DEFAULTS,e),this.isLoading=!1};function o(i){return this.each(function(){var t=a(this),e=t.data("bs.button"),o="object"==typeof i&&i;e||t.data("bs.button",e=new s(this,o)),"toggle"==i?e.toggle():i&&e.setState(i)})}s.VERSION="3.3.7",s.DEFAULTS={loadingText:"loading..."},s.prototype.setState=function(t){var e="disabled",o=this.$element,i=o.is("input")?"val":"html",s=o.data();t+="Text",null==s.resetText&&o.data("resetText",o[i]()),setTimeout(a.proxy(function(){o[i]((null==s[t]?this.options:s)[t]),"loadingText"==t?(this.isLoading=!0,o.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,o.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},s.prototype.toggle=function(){var t,e=!0,o=this.$element.closest('[data-toggle="buttons"]');o.length?("radio"==(t=this.$element.find("input")).prop("type")?(t.prop("checked")&&(e=!1),o.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==t.prop("type")&&(t.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),t.prop("checked",this.$element.hasClass("active")),e&&t.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};var t=a.fn.button;a.fn.button=o,a.fn.button.Constructor=s,a.fn.button.noConflict=function(){return a.fn.button=t,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=a(t.target).closest(".btn");o.call(e,"toggle"),a(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),(e.is("input,button")?e:e.find("input:visible,button:visible").first()).trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){a(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(a){"use strict";function n(t,e){this.options=e,this.$body=a(document.body),this.$element=a(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function s(i,s){return this.each(function(){var t=a(this),e=t.data("bs.modal"),o=a.extend({},n.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new n(this,o)),"string"==typeof i?e[i](s):o.show&&e.show(s)})}n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(o){var i=this,t=a.Event("show.bs.modal",{relatedTarget:o});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){a(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=a.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:o});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var e,o=this,i=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(e=a.support.transition&&i,this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),t&&(e?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e=function(){o.removeBackdrop(),t&&t()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()):t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t,e=window.innerWidth;e||(e=(t=document.documentElement.getBoundingClientRect()).right-Math.abs(t.left)),this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=a.fn.modal;a.fn.modal=s,a.fn.modal.Constructor=n,a.fn.modal.noConflict=function(){return a.fn.modal=t,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=a(this),o=e.attr("href"),i=a(e.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(o)&&o},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(i,o,this)})}(jQuery);
